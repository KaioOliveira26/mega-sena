# Sobre
Ester README tem por objetivo fornecer as informa√ß√µes necess√°rias para avalia√ß√£o de candidatos para a linguagem Python.
#  üèó   O que fazer?

Voc√™ deve realizar um fork deste reposit√≥rio e, ao finalizar, enviar o link do seu reposit√≥rio para a nossa equipe. Lembre-se, N√ÉO √© necess√°rio criar um Pull Request para isso, n√≥s iremos avaliar e retornar por email o resultado do seu teste.

# üö® Requisitos

- A API dever√° ser constru√≠da em Python
- Implementar autentica√ß√£o e dever√° seguir o padr√£o **JWT**, lembrando que o token a ser recebido dever√° ser no formato **Bearer**
- Recomendamos uso de Flask ou Django como framework, no  entanto outros frameworks ser√£o aceitos.
- Para a comunica√ß√£o com o banco de dados utilize algum **ORM**/**ODM**
- Bancos relacionais permitidos:
      - MySQL
      - MariaDB
      - Postgre
- Bancos n√£o relacionais permitidos:
      - MongoDB
- Sua API dever√° seguir os padr√µes Rest na constru√ß√£o das rotas e retornos
- Sua API dever√° conter a collection/vari√°veis do postman ou algum endpoint da documenta√ß√£o em openapi para a realiza√ß√£o do teste
- Descrever de forma clara em seu README os passos para executar seu projeto.
# üïµüèª‚Äç‚ôÇÔ∏è Itens a serem avaliados

- Estrutura do Projeto
- Seguran√ßa da API, como autentica√ß√£o, senhas salvas no banco, SQL Injection e outros
- Boas pr√°ticas da Linguagem/Framework
- Seu projeto dever√° seguir tudo o que foi exigido na se√ß√£o [O que desenvolver?](##--o-que-desenvolver)
- Migrations para a cria√ß√£o das tabelas do banco relacional caso seja escolhido um banco relacional.

# üéÅ Extra

Esses itens n√£o s√£o obrigat√≥rios, por√©m desejados.

- Testes unit√°rios
- Linter
- Code Formater


# üñ• O que desenvolver?
Voc√™ dever√° construir uma API que fa√ßa jogos da mega sena, o usuario dever√° escolher a quantidade de dezenas por jogo e sua API ir√° gerar aleatoriamente dezenas para o usu√°rio. O usu√°rio poder√° consultar o resultado do ultimo jogo e comparar com suas dezenas para conferir quantos numeros acertou.

- IMPORTANTE: Para obter o ultimo resultado da megasena voc√™ dever√° fazer um webscrapping no Google. A seguinte pesquisa te traz o que voc√™ precisa obter: https://www.google.com/search?q=caixa+mega+sena 


Rotas necess√°rias para API:

- Usu√°rio

    - Cadastro
    - Login
    - Edi√ß√£o (o usu√°rio deve est√° autenticado)
    - Exclus√£o l√≥gica (O usu√°rio so pode deletar a propria conta)


- Megasena (todos endpoints devem exigir autentica√ß√£o)
    
    - Realizar um novo jogo.
        - Dever√° receber quantos dezenas (entre 6 e 10) o usu√°rio deseja e sortear dezenas de acordo com a quantidade escolhida.
    - Consultar o resultado da ultima megasena (O webscrapping citado acima).
    - Ver quantos numeros acertou no seu ultimo jogo.
    - Listar seus jogos passados.

# üîó Links

- Documenta√ß√£o JWT https://jwt.io/
- Frameworks:

    -   https://www.djangoproject.com
    -   https://flask.palletsprojects.com/en/1.1.x/

- Bibliotecas que podem te ajudar:
    - random
    - pandas
    - cfscrape
    - bs4
    - lxml

# Rotas
- para testar a aplica√ß√£o √© recomendado a utiliza√ß√£o do insomnia basta instalar e importar o arquivo Insomnia_2021-04-15

## USER
## URI/user/create/
- POST
### BODY
```json
{
	"username":"kaiooliveira",
	"first_name":"Kaio Henrique",
	"last_name":"Oliveira da Silva",
	"email":"kaiohenrique2601@gmail.com",
	"password":"1234"
}
```
### Response
```json
{
  "id": 9,
  "username": "kaio26",
  "first_name": "Kaio Henrique",
  "last_name": "Oliveira da Silva",
  "email": "kaiohenrique2601@gmail.com"
}
```
## URI/user/
- DELETE
### BODY
```json
NO BODY
```
### Response
```json
204 NO CONTENT
```
## URI/login/
- POST
### BODY
```json
{
	"username":"kaio26",
	"password":"123456"
}
```
### Response
```json
{
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTYxODYwMTQ5OCwianRpIjoiYzZkODBhODBjZDljNGExOGEyNWViYjA0NmJlZGJiMzUiLCJ1c2VyX2lkIjoyfQ.bBOPnR6wvkNSeaDn9Iznl8dolvC-x3ngO18_N3apLL0",
  "access": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjE4NTE1Mzk4LCJqdGkiOiIxNTU3MTI3MjRkMWY0YWM4YjY3ZGRmNDIzYWQ1M2JiNiIsInVzZXJfaWQiOjJ9.vi8JJJY8FVPquK6UvYoGUhrj5vC6PpVYYxV4BuY4Pt0"
} 
```
## URI/user/
- PATCH
### BODY
```json
{
	"email":"kaiohenrique2601@outlook.com"
}
```
### Response
```json
{
  "id": 9,
  "username": "kaio26",
  "first_name": "Kaio Henrique",
  "last_name": "Oliveira da Silva",
  "email": "kaiohenrique2601@outlook.com"
}
```
## GAMES
## URI/games/result/
- GET
### BODY
- No body
### Response
```json
{
  "concurso": "Concurso 2362 (14/04/21)",
  "numeros": [
    3,
    20,
    22,
    32,
    35,
    50
  ]
}
```
## URI/games/points/
- GET
### BODY
- No body
### Response
```json
{
  "points": 0,
  "game": {
    "id": 3,
    "numbers": "[9, 19, 24, 46, 54, 56]",
    "date": "2021-04-15",
    "user": {
      "id": 2,
      "username": "kaiosuper",
      "first_name": "",
      "last_name": "",
      "email": ""
    }
  },
  "concurse": "Concurso 2362 (14/04/21)",
  "result_numbers": [
    3,
    20,
    22,
    32,
    35,
    50
  ],
  "game_numbers": [
    9,
    19,
    24,
    46,
    54,
    56
  ]
}
```
## URI/games/
- GET
### BODY
- No body
### Response
```json
[
  {
    "id": 1,
    "numbers": "[14, 27, 35, 46, 58, 58]",
    "date": "2021-04-15",
    "user": {
      "id": 1,
      "username": "kaio",
      "first_name": "",
      "last_name": "",
      "email": "kaiohenrique2601@outlook.com"
    }
  },
  {
    "id": 2,
    "numbers": "[11, 14, 19, 41, 53, 55]",
    "date": "2021-04-15",
    "user": {
      "id": 1,
      "username": "kaio",
      "first_name": "",
      "last_name": "",
      "email": "kaiohenrique2601@outlook.com"
    }
  }
]
```
## URI/games/
- GET
### BODY
```json
{
	"tens":6
}
```

### Response
```json
{
  "id": 4,
  "numbers": "[6, 13, 30, 38, 40, 60]",
  "date": "2021-04-15",
  "user": {
    "id": 2,
    "username": "kaiosuper",
    "first_name": "",
    "last_name": "",
    "email": ""
  }
}
```
